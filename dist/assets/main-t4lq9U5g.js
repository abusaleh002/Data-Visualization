import*as G from"https://cdn.skypack.dev/d3@5";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=e(i);fetch(i.href,a)}})();function Ye(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function zr(t){return t.length===1&&(t=qr(t)),{left:function(n,e,r,i){for(r==null&&(r=0),i==null&&(i=n.length);r<i;){var a=r+i>>>1;t(n[a],e)<0?r=a+1:i=a}return r},right:function(n,e,r,i){for(r==null&&(r=0),i==null&&(i=n.length);r<i;){var a=r+i>>>1;t(n[a],e)>0?i=a:r=a+1}return r}}}function qr(t){return function(n,e){return Ye(t(n),e)}}var Dr=zr(Ye),Ke=Dr.right;function In(t,n){var e=t.length,r=-1,i,a,o;if(n==null){for(;++r<e;)if((i=t[r])!=null&&i>=i)for(a=o=i;++r<e;)(i=t[r])!=null&&(a>i&&(a=i),o<i&&(o=i))}else for(;++r<e;)if((i=n(t[r],r,t))!=null&&i>=i)for(a=o=i;++r<e;)(i=n(t[r],r,t))!=null&&(a>i&&(a=i),o<i&&(o=i));return[a,o]}var Hr=Array.prototype,Br=Hr.slice;function qt(t){return function(){return t}}function Ur(t){return t}function ee(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((n-t)/e))|0,a=new Array(i);++r<i;)a[r]=t+r*e;return a}var On=Math.sqrt(50),zn=Math.sqrt(10),qn=Math.sqrt(2);function Xr(t,n,e){var r,i=-1,a,o,s;if(n=+n,t=+t,e=+e,t===n&&e>0)return[t];if((r=n<t)&&(a=t,t=n,n=a),(s=Yt(t,n,e))===0||!isFinite(s))return[];if(s>0)for(t=Math.ceil(t/s),n=Math.floor(n/s),o=new Array(a=Math.ceil(n-t+1));++i<a;)o[i]=(t+i)*s;else for(t=Math.floor(t*s),n=Math.ceil(n*s),o=new Array(a=Math.ceil(t-n+1));++i<a;)o[i]=(t-i)/s;return r&&o.reverse(),o}function Yt(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=On?10:a>=zn?5:a>=qn?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=On?10:a>=zn?5:a>=qn?2:1)}function Ze(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=On?i*=10:a>=zn?i*=5:a>=qn&&(i*=2),n<t?-i:i}function Vr(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function Gr(){var t=Ur,n=In,e=Vr;function r(i){var a,o=i.length,s,u=new Array(o);for(a=0;a<o;++a)u[a]=t(i[a],a,i);var l=n(u),c=l[0],f=l[1],h=e(u,c,f);Array.isArray(h)||(h=Ze(c,f,h),h=ee(Math.ceil(c/h)*h,f,h));for(var d=h.length;h[0]<=c;)h.shift(),--d;for(;h[d-1]>f;)h.pop(),--d;var g=new Array(d+1),p;for(a=0;a<=d;++a)p=g[a]=[],p.x0=a>0?h[a-1]:c,p.x1=a<d?h[a]:f;for(a=0;a<o;++a)s=u[a],c<=s&&s<=f&&g[Ke(h,s,0,d)].push(i[a]);return g}return r.value=function(i){return arguments.length?(t=typeof i=="function"?i:qt(i),r):t},r.domain=function(i){return arguments.length?(n=typeof i=="function"?i:qt([i[0],i[1]]),r):n},r.thresholds=function(i){return arguments.length?(e=typeof i=="function"?i:Array.isArray(i)?qt(Br.call(i)):qt(i),r):e},r}function Yr(t,n){var e=t.length,r=-1,i,a;if(n==null){for(;++r<e;)if((i=t[r])!=null&&i>=i)for(a=i;++r<e;)(i=t[r])!=null&&i>a&&(a=i)}else for(;++r<e;)if((i=n(t[r],r,t))!=null&&i>=i)for(a=i;++r<e;)(i=n(t[r],r,t))!=null&&i>a&&(a=i);return a}function Kr(t,n){var e=t.length,r=-1,i,a=0;if(n==null)for(;++r<e;)(i=+t[r])&&(a+=i);else for(;++r<e;)(i=+n(t[r],r,t))&&(a+=i);return a}var Nn=Array.prototype.slice;function Zr(t){return t}var Cn=1,Rn=2,Dn=3,At=4,ge=1e-6;function Jr(t){return"translate("+(t+.5)+",0)"}function Qr(t){return"translate(0,"+(t+.5)+")"}function Wr(t){return function(n){return+t(n)}}function jr(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(e){return+t(e)+n}}function ti(){return!this.__axis}function Je(t,n){var e=[],r=null,i=null,a=6,o=6,s=3,u=t===Cn||t===At?-1:1,l=t===At||t===Rn?"x":"y",c=t===Cn||t===Dn?Jr:Qr;function f(h){var d=r??(n.ticks?n.ticks.apply(n,e):n.domain()),g=i??(n.tickFormat?n.tickFormat.apply(n,e):Zr),p=Math.max(a,0)+s,m=n.range(),w=+m[0]+.5,y=+m[m.length-1]+.5,x=(n.bandwidth?jr:Wr)(n.copy()),b=h.selection?h.selection():h,A=b.selectAll(".domain").data([null]),k=b.selectAll(".tick").data(d,n).order(),E=k.exit(),S=k.enter().append("g").attr("class","tick"),N=k.select("line"),R=k.select("text");A=A.merge(A.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),k=k.merge(S),N=N.merge(S.append("line").attr("stroke","currentColor").attr(l+"2",u*a)),R=R.merge(S.append("text").attr("fill","currentColor").attr(l,u*p).attr("dy",t===Cn?"0em":t===Dn?"0.71em":"0.32em")),h!==b&&(A=A.transition(h),k=k.transition(h),N=N.transition(h),R=R.transition(h),E=E.transition(h).attr("opacity",ge).attr("transform",function(_){return isFinite(_=x(_))?c(_):this.getAttribute("transform")}),S.attr("opacity",ge).attr("transform",function(_){var v=this.parentNode.__axis;return c(v&&isFinite(v=v(_))?v:x(_))})),E.remove(),A.attr("d",t===At||t==Rn?o?"M"+u*o+","+w+"H0.5V"+y+"H"+u*o:"M0.5,"+w+"V"+y:o?"M"+w+","+u*o+"V0.5H"+y+"V"+u*o:"M"+w+",0.5H"+y),k.attr("opacity",1).attr("transform",function(_){return c(x(_))}),N.attr(l+"2",u*a),R.attr(l,u*p).text(g),b.filter(ti).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Rn?"start":t===At?"end":"middle"),b.each(function(){this.__axis=x})}return f.scale=function(h){return arguments.length?(n=h,f):n},f.ticks=function(){return e=Nn.call(arguments),f},f.tickArguments=function(h){return arguments.length?(e=h==null?[]:Nn.call(h),f):e.slice()},f.tickValues=function(h){return arguments.length?(r=h==null?null:Nn.call(h),f):r&&r.slice()},f.tickFormat=function(h){return arguments.length?(i=h,f):i},f.tickSize=function(h){return arguments.length?(a=o=+h,f):a},f.tickSizeInner=function(h){return arguments.length?(a=+h,f):a},f.tickSizeOuter=function(h){return arguments.length?(o=+h,f):o},f.tickPadding=function(h){return arguments.length?(s=+h,f):s},f}function Qe(t){return Je(Dn,t)}function We(t){return Je(At,t)}var ni={value:function(){}};function je(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new Kt(e)}function Kt(t){this._=t}function ei(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}Kt.prototype=je.prototype={constructor:Kt,on:function(t,n){var e=this._,r=ei(t+"",e),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=ri(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++a<o;)if(i=(t=r[a]).type)e[i]=me(e[i],t.name,n);else if(n==null)for(i in e)e[i]=me(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Kt(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,a;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(n,e)}};function ri(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function me(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=ni,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var Hn="http://www.w3.org/1999/xhtml";const ye={svg:"http://www.w3.org/2000/svg",xhtml:Hn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function pn(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),ye.hasOwnProperty(n)?{space:ye[n],local:t}:t}function ii(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Hn&&n.documentElement.namespaceURI===Hn?n.createElement(t):n.createElementNS(e,t)}}function ai(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function tr(t){var n=pn(t);return(n.local?ai:ii)(n)}function oi(){}function re(t){return t==null?oi:function(){return this.querySelector(t)}}function si(t){typeof t!="function"&&(t=re(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,s=r[i]=new Array(o),u,l,c=0;c<o;++c)(u=a[c])&&(l=t.call(u,u.__data__,c,a))&&("__data__"in u&&(l.__data__=u.__data__),s[c]=l);return new q(r,this._parents)}function ui(){return[]}function nr(t){return t==null?ui:function(){return this.querySelectorAll(t)}}function li(t){typeof t!="function"&&(t=nr(t));for(var n=this._groups,e=n.length,r=[],i=[],a=0;a<e;++a)for(var o=n[a],s=o.length,u,l=0;l<s;++l)(u=o[l])&&(r.push(t.call(u,u.__data__,l,o)),i.push(u));return new q(r,i)}function er(t){return function(){return this.matches(t)}}function fi(t){typeof t!="function"&&(t=er(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,s=r[i]=[],u,l=0;l<o;++l)(u=a[l])&&t.call(u,u.__data__,l,a)&&s.push(u);return new q(r,this._parents)}function rr(t){return new Array(t.length)}function ci(){return new q(this._enter||this._groups.map(rr),this._parents)}function jt(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}jt.prototype={constructor:jt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function hi(t){return function(){return t}}var xe="$";function di(t,n,e,r,i,a){for(var o=0,s,u=n.length,l=a.length;o<l;++o)(s=n[o])?(s.__data__=a[o],r[o]=s):e[o]=new jt(t,a[o]);for(;o<u;++o)(s=n[o])&&(i[o]=s)}function pi(t,n,e,r,i,a,o){var s,u,l={},c=n.length,f=a.length,h=new Array(c),d;for(s=0;s<c;++s)(u=n[s])&&(h[s]=d=xe+o.call(u,u.__data__,s,n),d in l?i[s]=u:l[d]=u);for(s=0;s<f;++s)d=xe+o.call(t,a[s],s,a),(u=l[d])?(r[s]=u,u.__data__=a[s],l[d]=null):e[s]=new jt(t,a[s]);for(s=0;s<c;++s)(u=n[s])&&l[h[s]]===u&&(i[s]=u)}function gi(t,n){if(!t)return d=new Array(this.size()),l=-1,this.each(function(k){d[++l]=k}),d;var e=n?pi:di,r=this._parents,i=this._groups;typeof t!="function"&&(t=hi(t));for(var a=i.length,o=new Array(a),s=new Array(a),u=new Array(a),l=0;l<a;++l){var c=r[l],f=i[l],h=f.length,d=t.call(c,c&&c.__data__,l,r),g=d.length,p=s[l]=new Array(g),m=o[l]=new Array(g),w=u[l]=new Array(h);e(c,f,p,m,w,d,n);for(var y=0,x=0,b,A;y<g;++y)if(b=p[y]){for(y>=x&&(x=y+1);!(A=m[x])&&++x<g;);b._next=A||null}}return o=new q(o,r),o._enter=s,o._exit=u,o}function mi(){return new q(this._exit||this._groups.map(rr),this._parents)}function yi(t,n,e){var r=this.enter(),i=this,a=this.exit();return r=typeof t=="function"?t(r):r.append(t+""),n!=null&&(i=n(i)),e==null?a.remove():e(a),r&&i?r.merge(i).order():i}function xi(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u=n[s],l=e[s],c=u.length,f=o[s]=new Array(c),h,d=0;d<c;++d)(h=u[d]||l[d])&&(f[d]=h);for(;s<r;++s)o[s]=n[s];return new q(o,this._parents)}function vi(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function wi(t){t||(t=_i);function n(f,h){return f&&h?t(f.__data__,h.__data__):!f-!h}for(var e=this._groups,r=e.length,i=new Array(r),a=0;a<r;++a){for(var o=e[a],s=o.length,u=i[a]=new Array(s),l,c=0;c<s;++c)(l=o[c])&&(u[c]=l);u.sort(n)}return new q(i,this._parents).order()}function _i(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function bi(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Mi(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t}function Ai(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function ki(){var t=0;return this.each(function(){++t}),t}function Ni(){return!this.node()}function Ci(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],a=0,o=i.length,s;a<o;++a)(s=i[a])&&t.call(s,s.__data__,a,i);return this}function Ri(t){return function(){this.removeAttribute(t)}}function Si(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ei(t,n){return function(){this.setAttribute(t,n)}}function $i(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Li(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function Pi(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Ti(t,n){var e=pn(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?Si:Ri:typeof n=="function"?e.local?Pi:Li:e.local?$i:Ei)(e,n))}function ir(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Fi(t){return function(){this.style.removeProperty(t)}}function Ii(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Oi(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function zi(t,n,e){return arguments.length>1?this.each((n==null?Fi:typeof n=="function"?Oi:Ii)(t,n,e??"")):gt(this.node(),t)}function gt(t,n){return t.style.getPropertyValue(n)||ir(t).getComputedStyle(t,null).getPropertyValue(n)}function qi(t){return function(){delete this[t]}}function Di(t,n){return function(){this[t]=n}}function Hi(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function Bi(t,n){return arguments.length>1?this.each((n==null?qi:typeof n=="function"?Hi:Di)(t,n)):this.node()[t]}function ar(t){return t.trim().split(/^|\s+/)}function ie(t){return t.classList||new or(t)}function or(t){this._node=t,this._names=ar(t.getAttribute("class")||"")}or.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function sr(t,n){for(var e=ie(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function ur(t,n){for(var e=ie(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Ui(t){return function(){sr(this,t)}}function Xi(t){return function(){ur(this,t)}}function Vi(t,n){return function(){(n.apply(this,arguments)?sr:ur)(this,t)}}function Gi(t,n){var e=ar(t+"");if(arguments.length<2){for(var r=ie(this.node()),i=-1,a=e.length;++i<a;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?Vi:n?Ui:Xi)(e,n))}function Yi(){this.textContent=""}function Ki(t){return function(){this.textContent=t}}function Zi(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function Ji(t){return arguments.length?this.each(t==null?Yi:(typeof t=="function"?Zi:Ki)(t)):this.node().textContent}function Qi(){this.innerHTML=""}function Wi(t){return function(){this.innerHTML=t}}function ji(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function ta(t){return arguments.length?this.each(t==null?Qi:(typeof t=="function"?ji:Wi)(t)):this.node().innerHTML}function na(){this.nextSibling&&this.parentNode.appendChild(this)}function ea(){return this.each(na)}function ra(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ia(){return this.each(ra)}function aa(t){var n=typeof t=="function"?t:tr(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function oa(){return null}function sa(t,n){var e=typeof t=="function"?t:tr(t),r=n==null?oa:typeof n=="function"?n:re(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function ua(){var t=this.parentNode;t&&t.removeChild(this)}function la(){return this.each(ua)}function fa(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function ca(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function ha(t){return this.select(t?ca:fa)}function da(t){return arguments.length?this.property("__data__",t):this.node().__data__}var lr={};if(typeof document<"u"){var pa=document.documentElement;"onmouseenter"in pa||(lr={mouseenter:"mouseover",mouseleave:"mouseout"})}function ga(t,n,e){return t=fr(t,n,e),function(r){var i=r.relatedTarget;(!i||i!==this&&!(i.compareDocumentPosition(this)&8))&&t.call(this,r)}}function fr(t,n,e){return function(r){try{t.call(this,this.__data__,n,e)}finally{}}}function ma(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function ya(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,a;e<i;++e)a=n[e],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.capture):n[++r]=a;++r?n.length=r:delete this.__on}}}function xa(t,n,e){var r=lr.hasOwnProperty(t.type)?ga:fr;return function(i,a,o){var s=this.__on,u,l=r(n,a,o);if(s){for(var c=0,f=s.length;c<f;++c)if((u=s[c]).type===t.type&&u.name===t.name){this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=l,u.capture=e),u.value=n;return}}this.addEventListener(t.type,l,e),u={type:t.type,name:t.name,value:n,listener:l,capture:e},s?s.push(u):this.__on=[u]}}function va(t,n,e){var r=ma(t+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,l=s.length,c;u<l;++u)for(i=0,c=s[u];i<a;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(s=n?xa:ya,e==null&&(e=!1),i=0;i<a;++i)this.each(s(r[i],n,e));return this}function cr(t,n,e){var r=ir(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function wa(t,n){return function(){return cr(this,t,n)}}function _a(t,n){return function(){return cr(this,t,n.apply(this,arguments))}}function ba(t,n){return this.each((typeof n=="function"?_a:wa)(t,n))}var hr=[null];function q(t,n){this._groups=t,this._parents=n}function Tt(){return new q([[document.documentElement]],hr)}q.prototype=Tt.prototype={constructor:q,select:si,selectAll:li,filter:fi,data:gi,enter:ci,exit:mi,join:yi,merge:xi,order:vi,sort:wi,call:bi,nodes:Mi,node:Ai,size:ki,empty:Ni,each:Ci,attr:Ti,style:zi,property:Bi,classed:Gi,text:Ji,html:ta,raise:ea,lower:ia,append:aa,insert:sa,remove:la,clone:ha,datum:da,on:va,dispatch:ba};function et(t){return typeof t=="string"?new q([[document.querySelector(t)]],[document.documentElement]):new q([[t]],hr)}function ae(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function dr(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Ft(){}var St=.7,tn=1/St,ht="\\s*([+-]?\\d+)\\s*",Et="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Z="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ma=/^#([0-9a-f]{3,8})$/,Aa=new RegExp("^rgb\\("+[ht,ht,ht]+"\\)$"),ka=new RegExp("^rgb\\("+[Z,Z,Z]+"\\)$"),Na=new RegExp("^rgba\\("+[ht,ht,ht,Et]+"\\)$"),Ca=new RegExp("^rgba\\("+[Z,Z,Z,Et]+"\\)$"),Ra=new RegExp("^hsl\\("+[Et,Z,Z]+"\\)$"),Sa=new RegExp("^hsla\\("+[Et,Z,Z,Et]+"\\)$"),ve={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ae(Ft,ot,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:we,formatHex:we,formatHsl:Ea,formatRgb:_e,toString:_e});function we(){return this.rgb().formatHex()}function Ea(){return pr(this).formatHsl()}function _e(){return this.rgb().formatRgb()}function ot(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Ma.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?be(n):e===3?new z(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?Dt(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?Dt(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=Aa.exec(t))?new z(n[1],n[2],n[3],1):(n=ka.exec(t))?new z(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=Na.exec(t))?Dt(n[1],n[2],n[3],n[4]):(n=Ca.exec(t))?Dt(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=Ra.exec(t))?ke(n[1],n[2]/100,n[3]/100,1):(n=Sa.exec(t))?ke(n[1],n[2]/100,n[3]/100,n[4]):ve.hasOwnProperty(t)?be(ve[t]):t==="transparent"?new z(NaN,NaN,NaN,0):null}function be(t){return new z(t>>16&255,t>>8&255,t&255,1)}function Dt(t,n,e,r){return r<=0&&(t=n=e=NaN),new z(t,n,e,r)}function $a(t){return t instanceof Ft||(t=ot(t)),t?(t=t.rgb(),new z(t.r,t.g,t.b,t.opacity)):new z}function Bn(t,n,e,r){return arguments.length===1?$a(t):new z(t,n,e,r??1)}function z(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}ae(z,Bn,dr(Ft,{brighter:function(t){return t=t==null?tn:Math.pow(tn,t),new z(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?St:Math.pow(St,t),new z(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Me,formatHex:Me,formatRgb:Ae,toString:Ae}));function Me(){return"#"+Sn(this.r)+Sn(this.g)+Sn(this.b)}function Ae(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function Sn(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function ke(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new K(t,n,e,r)}function pr(t){if(t instanceof K)return new K(t.h,t.s,t.l,t.opacity);if(t instanceof Ft||(t=ot(t)),!t)return new K;if(t instanceof K)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),a=Math.max(n,e,r),o=NaN,s=a-i,u=(a+i)/2;return s?(n===a?o=(e-r)/s+(e<r)*6:e===a?o=(r-n)/s+2:o=(n-e)/s+4,s/=u<.5?a+i:2-a-i,o*=60):s=u>0&&u<1?0:o,new K(o,s,u,t.opacity)}function La(t,n,e,r){return arguments.length===1?pr(t):new K(t,n,e,r??1)}function K(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}ae(K,La,dr(Ft,{brighter:function(t){return t=t==null?tn:Math.pow(tn,t),new K(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?St:Math.pow(St,t),new K(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new z(En(t>=240?t-240:t+120,i,r),En(t,i,r),En(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function En(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}function oe(t){return function(){return t}}function Pa(t,n){return function(e){return t+e*n}}function Ta(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function Fa(t){return(t=+t)==1?gr:function(n,e){return e-n?Ta(n,e,t):oe(isNaN(n)?e:n)}}function gr(t,n){var e=n-t;return e?Pa(t,e):oe(isNaN(t)?n:t)}const nn=function t(n){var e=Fa(n);function r(i,a){var o=e((i=Bn(i)).r,(a=Bn(a)).r),s=e(i.g,a.g),u=e(i.b,a.b),l=gr(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=t,r}(1);function Ia(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(a){for(i=0;i<e;++i)r[i]=t[i]*(1-a)+n[i]*a;return r}}function Oa(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function za(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),a=new Array(e),o;for(o=0;o<r;++o)i[o]=se(t[o],n[o]);for(;o<e;++o)a[o]=n[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function qa(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function U(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function Da(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=se(t[i],n[i]):r[i]=n[i];return function(a){for(i in e)r[i]=e[i](a);return r}}var Un=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$n=new RegExp(Un.source,"g");function Ha(t){return function(){return t}}function Ba(t){return function(n){return t(n)+""}}function mr(t,n){var e=Un.lastIndex=$n.lastIndex=0,r,i,a,o=-1,s=[],u=[];for(t=t+"",n=n+"";(r=Un.exec(t))&&(i=$n.exec(n));)(a=i.index)>e&&(a=n.slice(e,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,u.push({i:o,x:U(r,i)})),e=$n.lastIndex;return e<n.length&&(a=n.slice(e),s[o]?s[o]+=a:s[++o]=a),s.length<2?u[0]?Ba(u[0].x):Ha(n):(n=u.length,function(l){for(var c=0,f;c<n;++c)s[(f=u[c]).i]=f.x(l);return s.join("")})}function se(t,n){var e=typeof n,r;return n==null||e==="boolean"?oe(n):(e==="number"?U:e==="string"?(r=ot(n))?(n=r,nn):mr:n instanceof ot?nn:n instanceof Date?qa:Oa(n)?Ia:Array.isArray(n)?za:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?Da:U)(t,n)}function Ua(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var Ne=180/Math.PI,Xn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function yr(t,n,e,r,i,a){var o,s,u;return(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o),(u=t*e+n*r)&&(e-=t*u,r-=n*u),(s=Math.sqrt(e*e+r*r))&&(e/=s,r/=s,u/=s),t*r<n*e&&(t=-t,n=-n,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(n,t)*Ne,skewX:Math.atan(u)*Ne,scaleX:o,scaleY:s}}var vt,Ln,Ce,Ht;function Xa(t){return t==="none"?Xn:(vt||(vt=document.createElement("DIV"),Ln=document.documentElement,Ce=document.defaultView),vt.style.transform=t,t=Ce.getComputedStyle(Ln.appendChild(vt),null).getPropertyValue("transform"),Ln.removeChild(vt),t=t.slice(7,-1).split(","),yr(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function Va(t){return t==null||(Ht||(Ht=document.createElementNS("http://www.w3.org/2000/svg","g")),Ht.setAttribute("transform",t),!(t=Ht.transform.baseVal.consolidate()))?Xn:(t=t.matrix,yr(t.a,t.b,t.c,t.d,t.e,t.f))}function xr(t,n,e,r){function i(l){return l.length?l.pop()+" ":""}function a(l,c,f,h,d,g){if(l!==f||c!==h){var p=d.push("translate(",null,n,null,e);g.push({i:p-4,x:U(l,f)},{i:p-2,x:U(c,h)})}else(f||h)&&d.push("translate("+f+n+h+e)}function o(l,c,f,h){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:U(l,c)})):c&&f.push(i(f)+"rotate("+c+r)}function s(l,c,f,h){l!==c?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:U(l,c)}):c&&f.push(i(f)+"skewX("+c+r)}function u(l,c,f,h,d,g){if(l!==f||c!==h){var p=d.push(i(d)+"scale(",null,",",null,")");g.push({i:p-4,x:U(l,f)},{i:p-2,x:U(c,h)})}else(f!==1||h!==1)&&d.push(i(d)+"scale("+f+","+h+")")}return function(l,c){var f=[],h=[];return l=t(l),c=t(c),a(l.translateX,l.translateY,c.translateX,c.translateY,f,h),o(l.rotate,c.rotate,f,h),s(l.skewX,c.skewX,f,h),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,f,h),l=c=null,function(d){for(var g=-1,p=h.length,m;++g<p;)f[(m=h[g]).i]=m.x(d);return f.join("")}}}var Ga=xr(Xa,"px, ","px)","deg)"),Ya=xr(Va,", ",")",")"),mt=0,kt=0,wt=0,vr=1e3,en,Nt,rn=0,st=0,gn=0,$t=typeof performance=="object"&&performance.now?performance:Date,wr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function mn(){return st||(wr(Ka),st=$t.now()+gn)}function Ka(){st=0}function an(){this._call=this._time=this._next=null}an.prototype=_r.prototype={constructor:an,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?mn():+e)+(n==null?0:+n),!this._next&&Nt!==this&&(Nt?Nt._next=this:en=this,Nt=this),this._call=t,this._time=e,Vn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Vn())}};function _r(t,n,e){var r=new an;return r.restart(t,n,e),r}function Za(){mn(),++mt;for(var t=en,n;t;)(n=st-t._time)>=0&&t._call.call(null,n),t=t._next;--mt}function Re(){st=(rn=$t.now())+gn,mt=kt=0;try{Za()}finally{mt=0,Qa(),st=0}}function Ja(){var t=$t.now(),n=t-rn;n>vr&&(gn-=n,rn=t)}function Qa(){for(var t,n=en,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:en=e);Nt=t,Vn(r)}function Vn(t){if(!mt){kt&&(kt=clearTimeout(kt));var n=t-st;n>24?(t<1/0&&(kt=setTimeout(Re,t-$t.now()-gn)),wt&&(wt=clearInterval(wt))):(wt||(rn=$t.now(),wt=setInterval(Ja,vr)),mt=1,wr(Re))}}function Se(t,n,e){var r=new an;return n=n==null?0:+n,r.restart(function(i){r.stop(),t(i+n)},n,e),r}var Wa=je("start","end","cancel","interrupt"),ja=[],br=0,Ee=1,Gn=2,Zt=3,$e=4,Yn=5,Jt=6;function yn(t,n,e,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(e in o)return;to(t,e,{name:n,index:r,group:i,on:Wa,tween:ja,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:br})}function ue(t,n){var e=X(t,n);if(e.state>br)throw new Error("too late; already scheduled");return e}function tt(t,n){var e=X(t,n);if(e.state>Zt)throw new Error("too late; already running");return e}function X(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function to(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=_r(a,0,e.time);function a(l){e.state=Ee,e.timer.restart(o,e.delay,e.time),e.delay<=l&&o(l-e.delay)}function o(l){var c,f,h,d;if(e.state!==Ee)return u();for(c in r)if(d=r[c],d.name===e.name){if(d.state===Zt)return Se(o);d.state===$e?(d.state=Jt,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[c]):+c<n&&(d.state=Jt,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[c])}if(Se(function(){e.state===Zt&&(e.state=$e,e.timer.restart(s,e.delay,e.time),s(l))}),e.state=Gn,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Gn){for(e.state=Zt,i=new Array(h=e.tween.length),c=0,f=-1;c<h;++c)(d=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(i[++f]=d);i.length=f+1}}function s(l){for(var c=l<e.duration?e.ease.call(null,l/e.duration):(e.timer.restart(u),e.state=Yn,1),f=-1,h=i.length;++f<h;)i[f].call(t,c);e.state===Yn&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){e.state=Jt,e.timer.stop(),delete r[n];for(var l in r)return;delete t.__transition}}function no(t,n){var e=t.__transition,r,i,a=!0,o;if(e){n=n==null?null:n+"";for(o in e){if((r=e[o]).name!==n){a=!1;continue}i=r.state>Gn&&r.state<Yn,r.state=Jt,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[o]}a&&delete t.__transition}}function eo(t){return this.each(function(){no(this,t)})}function ro(t,n){var e,r;return function(){var i=tt(this,t),a=i.tween;if(a!==e){r=e=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===n){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function io(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var a=tt(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:n,value:e},u=0,l=i.length;u<l;++u)if(i[u].name===n){i[u]=s;break}u===l&&i.push(s)}a.tween=i}}function ao(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=X(this.node(),e).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((n==null?ro:io)(e,t,n))}function le(t,n,e){var r=t._id;return t.each(function(){var i=tt(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return X(i,r).value[n]}}function Mr(t,n){var e;return(typeof n=="number"?U:n instanceof ot?nn:(e=ot(n))?(n=e,nn):mr)(t,n)}function oo(t){return function(){this.removeAttribute(t)}}function so(t){return function(){this.removeAttributeNS(t.space,t.local)}}function uo(t,n,e){var r,i=e+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=n(r=o,e)}}function lo(t,n,e){var r,i=e+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=n(r=o,e)}}function fo(t,n,e){var r,i,a;return function(){var o,s=e(this),u;return s==null?void this.removeAttribute(t):(o=this.getAttribute(t),u=s+"",o===u?null:o===r&&u===i?a:(i=u,a=n(r=o,s)))}}function co(t,n,e){var r,i,a;return function(){var o,s=e(this),u;return s==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),u=s+"",o===u?null:o===r&&u===i?a:(i=u,a=n(r=o,s)))}}function ho(t,n){var e=pn(t),r=e==="transform"?Ya:Mr;return this.attrTween(t,typeof n=="function"?(e.local?co:fo)(e,r,le(this,"attr."+t,n)):n==null?(e.local?so:oo)(e):(e.local?lo:uo)(e,r,n))}function po(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function go(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function mo(t,n){var e,r;function i(){var a=n.apply(this,arguments);return a!==r&&(e=(r=a)&&go(t,a)),e}return i._value=n,i}function yo(t,n){var e,r;function i(){var a=n.apply(this,arguments);return a!==r&&(e=(r=a)&&po(t,a)),e}return i._value=n,i}function xo(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=pn(t);return this.tween(e,(r.local?mo:yo)(r,n))}function vo(t,n){return function(){ue(this,t).delay=+n.apply(this,arguments)}}function wo(t,n){return n=+n,function(){ue(this,t).delay=n}}function _o(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?vo:wo)(n,t)):X(this.node(),n).delay}function bo(t,n){return function(){tt(this,t).duration=+n.apply(this,arguments)}}function Mo(t,n){return n=+n,function(){tt(this,t).duration=n}}function Ao(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?bo:Mo)(n,t)):X(this.node(),n).duration}function ko(t,n){if(typeof n!="function")throw new Error;return function(){tt(this,t).ease=n}}function No(t){var n=this._id;return arguments.length?this.each(ko(n,t)):X(this.node(),n).ease}function Co(t){typeof t!="function"&&(t=er(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var a=n[i],o=a.length,s=r[i]=[],u,l=0;l<o;++l)(u=a[l])&&t.call(u,u.__data__,l,a)&&s.push(u);return new j(r,this._parents,this._name,this._id)}function Ro(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u=n[s],l=e[s],c=u.length,f=o[s]=new Array(c),h,d=0;d<c;++d)(h=u[d]||l[d])&&(f[d]=h);for(;s<r;++s)o[s]=n[s];return new j(o,this._parents,this._name,this._id)}function So(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function Eo(t,n,e){var r,i,a=So(n)?ue:tt;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(n,e),o.on=i}}function $o(t,n){var e=this._id;return arguments.length<2?X(this.node(),e).on.on(t):this.each(Eo(e,t,n))}function Lo(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function Po(){return this.on("end.remove",Lo(this._id))}function To(t){var n=this._name,e=this._id;typeof t!="function"&&(t=re(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s=r[o],u=s.length,l=a[o]=new Array(u),c,f,h=0;h<u;++h)(c=s[h])&&(f=t.call(c,c.__data__,h,s))&&("__data__"in c&&(f.__data__=c.__data__),l[h]=f,yn(l[h],n,e,h,l,X(c,e)));return new j(a,this._parents,n,e)}function Fo(t){var n=this._name,e=this._id;typeof t!="function"&&(t=nr(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var u=r[s],l=u.length,c,f=0;f<l;++f)if(c=u[f]){for(var h=t.call(c,c.__data__,f,u),d,g=X(c,e),p=0,m=h.length;p<m;++p)(d=h[p])&&yn(d,n,e,p,h,g);a.push(h),o.push(c)}return new j(a,o,n,e)}var Io=Tt.prototype.constructor;function Oo(){return new Io(this._groups,this._parents)}function zo(t,n){var e,r,i;return function(){var a=gt(this,t),o=(this.style.removeProperty(t),gt(this,t));return a===o?null:a===e&&o===r?i:i=n(e=a,r=o)}}function Ar(t){return function(){this.style.removeProperty(t)}}function qo(t,n,e){var r,i=e+"",a;return function(){var o=gt(this,t);return o===i?null:o===r?a:a=n(r=o,e)}}function Do(t,n,e){var r,i,a;return function(){var o=gt(this,t),s=e(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(t),gt(this,t))),o===u?null:o===r&&u===i?a:(i=u,a=n(r=o,s))}}function Ho(t,n){var e,r,i,a="style."+n,o="end."+a,s;return function(){var u=tt(this,t),l=u.on,c=u.value[a]==null?s||(s=Ar(n)):void 0;(l!==e||i!==c)&&(r=(e=l).copy()).on(o,i=c),u.on=r}}function Bo(t,n,e){var r=(t+="")=="transform"?Ga:Mr;return n==null?this.styleTween(t,zo(t,r)).on("end.style."+t,Ar(t)):typeof n=="function"?this.styleTween(t,Do(t,r,le(this,"style."+t,n))).each(Ho(this._id,t)):this.styleTween(t,qo(t,r,n),e).on("end.style."+t,null)}function Uo(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Xo(t,n,e){var r,i;function a(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&Uo(t,o,e)),r}return a._value=n,a}function Vo(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,Xo(t,n,e??""))}function Go(t){return function(){this.textContent=t}}function Yo(t){return function(){var n=t(this);this.textContent=n??""}}function Ko(t){return this.tween("text",typeof t=="function"?Yo(le(this,"text",t)):Go(t==null?"":t+""))}function Zo(t){return function(n){this.textContent=t.call(this,n)}}function Jo(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&Zo(i)),n}return r._value=t,r}function Qo(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Jo(t))}function Wo(){for(var t=this._name,n=this._id,e=kr(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,u,l=0;l<s;++l)if(u=o[l]){var c=X(u,n);yn(u,t,e,l,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new j(r,this._parents,t,e)}function jo(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(a,o){var s={value:o},u={value:function(){--i===0&&a()}};e.each(function(){var l=tt(this,r),c=l.on;c!==t&&(n=(t=c).copy(),n._.cancel.push(s),n._.interrupt.push(s),n._.end.push(u)),l.on=n})})}var ts=0;function j(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function kr(){return++ts}var ut=Tt.prototype;j.prototype={constructor:j,select:To,selectAll:Fo,filter:Co,merge:Ro,selection:Oo,transition:Wo,call:ut.call,nodes:ut.nodes,node:ut.node,size:ut.size,empty:ut.empty,each:ut.each,on:$o,attr:ho,attrTween:xo,style:Bo,styleTween:Vo,text:Ko,textTween:Qo,remove:Po,tween:ao,delay:_o,duration:Ao,ease:No,end:jo};function ns(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Kn={time:null,delay:0,duration:250,ease:ns};function es(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return Kn.time=mn(),Kn;return e}function rs(t){var n,e;t instanceof j?(n=t._id,t=t._name):(n=kr(),(e=Kn).time=mn(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,u,l=0;l<s;++l)(u=o[l])&&yn(u,t,n,l,o,e||es(u,n));return new j(r,this._parents,t,n)}Tt.prototype.interrupt=eo;Tt.prototype.transition=rs;var Zn=Math.PI,Jn=2*Zn,at=1e-6,is=Jn-at;function Qn(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Nr(){return new Qn}Qn.prototype=Nr.prototype={constructor:Qn,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,a){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var a=this._x1,o=this._y1,s=e-t,u=r-n,l=a-t,c=o-n,f=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(f>at)if(!(Math.abs(c*s-u*l)>at)||!i)this._+="L"+(this._x1=t)+","+(this._y1=n);else{var h=e-a,d=r-o,g=s*s+u*u,p=h*h+d*d,m=Math.sqrt(g),w=Math.sqrt(f),y=i*Math.tan((Zn-Math.acos((g+f-p)/(2*m*w)))/2),x=y/w,b=y/m;Math.abs(x-1)>at&&(this._+="L"+(t+x*l)+","+(n+x*c)),this._+="A"+i+","+i+",0,0,"+ +(c*h>l*d)+","+(this._x1=t+b*s)+","+(this._y1=n+b*u)}},arc:function(t,n,e,r,i,a){t=+t,n=+n,e=+e,a=!!a;var o=e*Math.cos(r),s=e*Math.sin(r),u=t+o,l=n+s,c=1^a,f=a?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);this._x1===null?this._+="M"+u+","+l:(Math.abs(this._x1-u)>at||Math.abs(this._y1-l)>at)&&(this._+="L"+u+","+l),e&&(f<0&&(f=f%Jn+Jn),f>is?this._+="A"+e+","+e+",0,1,"+c+","+(t-o)+","+(n-s)+"A"+e+","+e+",0,1,"+c+","+(this._x1=u)+","+(this._y1=l):f>at&&(this._+="A"+e+","+e+",0,"+ +(f>=Zn)+","+c+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var D="$";function on(){}on.prototype=sn.prototype={constructor:on,has:function(t){return D+t in this},get:function(t){return this[D+t]},set:function(t,n){return this[D+t]=n,this},remove:function(t){var n=D+t;return n in this&&delete this[n]},clear:function(){for(var t in this)t[0]===D&&delete this[t]},keys:function(){var t=[];for(var n in this)n[0]===D&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)n[0]===D&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)n[0]===D&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)n[0]===D&&++t;return t},empty:function(){for(var t in this)if(t[0]===D)return!1;return!0},each:function(t){for(var n in this)n[0]===D&&t(this[n],n.slice(1),this)}};function sn(t,n){var e=new on;if(t instanceof on)t.each(function(s,u){e.set(u,s)});else if(Array.isArray(t)){var r=-1,i=t.length,a;if(n==null)for(;++r<i;)e.set(r,t[r]);else for(;++r<i;)e.set(n(a=t[r],r,t),a)}else if(t)for(var o in t)e.set(o,t[o]);return e}function Le(){}var rt=sn.prototype;Le.prototype={constructor:Le,has:rt.has,add:function(t){return t+="",this[D+t]=t,this},remove:rt.remove,clear:rt.clear,values:rt.keys,size:rt.size,empty:rt.empty,each:rt.each};function as(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function xn(t,n){return fetch(t,n).then(as)}function os(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function un(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function yt(t){return t=un(Math.abs(t)),t?t[1]:NaN}function ss(t,n){return function(e,r){for(var i=e.length,a=[],o=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),a.push(e.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(n)}}function us(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var ls=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ln(t){if(!(n=ls.exec(t)))throw new Error("invalid format: "+t);var n;return new fe({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}ln.prototype=fe.prototype;function fe(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}fe.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fs(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Cr;function cs(t,n){var e=un(t,n);if(!e)return t+"";var r=e[0],i=e[1],a=i-(Cr=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+un(t,Math.max(0,n+a-1))[0]}function Pe(t,n){var e=un(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Te={"%":function(t,n){return(t*100).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:os,e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return Pe(t*100,n)},r:Pe,s:cs,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Fe(t){return t}var Ie=Array.prototype.map,Oe=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function hs(t){var n=t.grouping===void 0||t.thousands===void 0?Fe:ss(Ie.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal+"",a=t.numerals===void 0?Fe:us(Ie.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function l(f){f=ln(f);var h=f.fill,d=f.align,g=f.sign,p=f.symbol,m=f.zero,w=f.width,y=f.comma,x=f.precision,b=f.trim,A=f.type;A==="n"?(y=!0,A="g"):Te[A]||(x===void 0&&(x=12),b=!0,A="g"),(m||h==="0"&&d==="=")&&(m=!0,h="0",d="=");var k=p==="$"?e:p==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",E=p==="$"?r:/[%p]/.test(A)?o:"",S=Te[A],N=/[defgprs%]/.test(A);x=x===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function R(_){var v=k,M=E,T,V,H;if(A==="c")M=S(_)+M,_="";else{_=+_;var B=_<0||1/_<0;if(_=isNaN(_)?u:S(Math.abs(_),x),b&&(_=fs(_)),B&&+_==0&&g!=="+"&&(B=!1),v=(B?g==="("?g:s:g==="-"||g==="("?"":g)+v,M=(A==="s"?Oe[8+Cr/3]:"")+M+(B&&g==="("?")":""),N){for(T=-1,V=_.length;++T<V;)if(H=_.charCodeAt(T),48>H||H>57){M=(H===46?i+_.slice(T+1):_.slice(T))+M,_=_.slice(0,T);break}}}y&&!m&&(_=n(_,1/0));var J=v.length+_.length+M.length,F=J<w?new Array(w-J+1).join(h):"";switch(y&&m&&(_=n(F+_,F.length?w-M.length:1/0),F=""),d){case"<":_=v+_+M+F;break;case"=":_=v+F+_+M;break;case"^":_=F.slice(0,J=F.length>>1)+v+_+M+F.slice(J);break;default:_=F+v+_+M;break}return a(_)}return R.toString=function(){return f+""},R}function c(f,h){var d=l((f=ln(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(yt(h)/3)))*3,p=Math.pow(10,-g),m=Oe[8+g/3];return function(w){return d(p*w)+m}}return{format:l,formatPrefix:c}}var Bt,Rr,Sr;ds({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function ds(t){return Bt=hs(t),Rr=Bt.format,Sr=Bt.formatPrefix,Bt}function ps(t){return Math.max(0,-yt(Math.abs(t)))}function gs(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(yt(n)/3)))*3-yt(Math.abs(t)))}function ms(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,yt(n)-yt(t))+1}function xt(){return Math.random()}(function t(n){function e(r,i){return r=r==null?0:+r,i=i==null?1:+i,arguments.length===1?(i=r,r=0):i-=r,function(){return n()*i+r}}return e.source=t,e})(xt);const ys=function t(n){function e(r,i){var a,o;return r=r==null?0:+r,i=i==null?1:+i,function(){var s;if(a!=null)s=a,a=null;else do a=n()*2-1,s=n()*2-1,o=a*a+s*s;while(!o||o>1);return r+i*s*Math.sqrt(-2*Math.log(o)/o)}}return e.source=t,e}(xt);(function t(n){function e(){var r=ys.source(n).apply(this,arguments);return function(){return Math.exp(r())}}return e.source=t,e})(xt);const xs=function t(n){function e(r){return function(){for(var i=0,a=0;a<r;++a)i+=n();return i}}return e.source=t,e}(xt);(function t(n){function e(r){var i=xs.source(n)(r);return function(){return i()/r}}return e.source=t,e})(xt);(function t(n){function e(r){return function(){return-Math.log(1-n())/r}}return e.source=t,e})(xt);function ce(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}var Er=Array.prototype,vs=Er.map,Wn=Er.slice,ze={name:"implicit"};function It(){var t=sn(),n=[],e=[],r=ze;function i(a){var o=a+"",s=t.get(o);if(!s){if(r!==ze)return r;t.set(o,s=n.push(a))}return e[(s-1)%e.length]}return i.domain=function(a){if(!arguments.length)return n.slice();n=[],t=sn();for(var o=-1,s=a.length,u,l;++o<s;)t.has(l=(u=a[o])+"")||t.set(l,n.push(u));return i},i.range=function(a){return arguments.length?(e=Wn.call(a),i):e.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return It(n,e).unknown(r)},ce.apply(i,arguments),i}function jn(){var t=It().unknown(void 0),n=t.domain,e=t.range,r=[0,1],i,a,o=!1,s=0,u=0,l=.5;delete t.unknown;function c(){var f=n().length,h=r[1]<r[0],d=r[h-0],g=r[1-h];i=(g-d)/Math.max(1,f-s+u*2),o&&(i=Math.floor(i)),d+=(g-d-i*(f-s))*l,a=i*(1-s),o&&(d=Math.round(d),a=Math.round(a));var p=ee(f).map(function(m){return d+i*m});return e(h?p.reverse():p)}return t.domain=function(f){return arguments.length?(n(f),c()):n()},t.range=function(f){return arguments.length?(r=[+f[0],+f[1]],c()):r.slice()},t.rangeRound=function(f){return r=[+f[0],+f[1]],o=!0,c()},t.bandwidth=function(){return a},t.step=function(){return i},t.round=function(f){return arguments.length?(o=!!f,c()):o},t.padding=function(f){return arguments.length?(s=Math.min(1,u=+f),c()):s},t.paddingInner=function(f){return arguments.length?(s=Math.min(1,f),c()):s},t.paddingOuter=function(f){return arguments.length?(u=+f,c()):u},t.align=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),c()):l},t.copy=function(){return jn(n(),r).round(o).paddingInner(s).paddingOuter(u).align(l)},ce.apply(c(),arguments)}function ws(t){return function(){return t}}function _s(t){return+t}var qe=[0,1];function lt(t){return t}function te(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:ws(isNaN(n)?NaN:.5)}function De(t){var n=t[0],e=t[t.length-1],r;return n>e&&(r=n,n=e,e=r),function(i){return Math.max(n,Math.min(e,i))}}function bs(t,n,e){var r=t[0],i=t[1],a=n[0],o=n[1];return i<r?(r=te(i,r),a=e(o,a)):(r=te(r,i),a=e(a,o)),function(s){return a(r(s))}}function Ms(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++o<r;)i[o]=te(t[o],t[o+1]),a[o]=e(n[o],n[o+1]);return function(s){var u=Ke(t,s,1,r)-1;return a[u](i[u](s))}}function As(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ks(){var t=qe,n=qe,e=se,r,i,a,o=lt,s,u,l;function c(){return s=Math.min(t.length,n.length)>2?Ms:bs,u=l=null,f}function f(h){return isNaN(h=+h)?a:(u||(u=s(t.map(r),n,e)))(r(o(h)))}return f.invert=function(h){return o(i((l||(l=s(n,t.map(r),U)))(h)))},f.domain=function(h){return arguments.length?(t=vs.call(h,_s),o===lt||(o=De(t)),c()):t.slice()},f.range=function(h){return arguments.length?(n=Wn.call(h),c()):n.slice()},f.rangeRound=function(h){return n=Wn.call(h),e=Ua,c()},f.clamp=function(h){return arguments.length?(o=h?De(t):lt,f):o!==lt},f.interpolate=function(h){return arguments.length?(e=h,c()):e},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,d){return r=h,i=d,c()}}function Ns(t,n){return ks()(t,n)}function Cs(t,n,e,r){var i=Ze(t,n,e),a;switch(r=ln(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(a=gs(i,o))&&(r.precision=a),Sr(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=ms(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=ps(i))&&(r.precision=a-(r.type==="%")*2);break}}return Rr(r)}function Rs(t){var n=t.domain;return t.ticks=function(e){var r=n();return Xr(r[0],r[r.length-1],e??10)},t.tickFormat=function(e,r){var i=n();return Cs(i[0],i[i.length-1],e??10,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,a=r.length-1,o=r[i],s=r[a],u;return s<o&&(u=o,o=s,s=u,u=i,i=a,a=u),u=Yt(o,s,e),u>0?(o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u,u=Yt(o,s,e)):u<0&&(o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u,u=Yt(o,s,e)),u>0?(r[i]=Math.floor(o/u)*u,r[a]=Math.ceil(s/u)*u,n(r)):u<0&&(r[i]=Math.ceil(o*u)/u,r[a]=Math.floor(s*u)/u,n(r)),t},t}function fn(){var t=Ns(lt,lt);return t.copy=function(){return As(t,fn())},ce.apply(t,arguments),Rs(t)}function Ss(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(r*6,++r*6);return e}const Es=Ss("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function P(t){return function(){return t}}var He=Math.abs,$=Math.atan2,it=Math.cos,$s=Math.max,Pn=Math.min,Y=Math.sin,ft=Math.sqrt,I=1e-12,Lt=Math.PI,cn=Lt/2,Qt=2*Lt;function Ls(t){return t>1?0:t<-1?Lt:Math.acos(t)}function Be(t){return t>=1?cn:t<=-1?-cn:Math.asin(t)}function Ps(t){return t.innerRadius}function Ts(t){return t.outerRadius}function Fs(t){return t.startAngle}function Is(t){return t.endAngle}function Os(t){return t&&t.padAngle}function zs(t,n,e,r,i,a,o,s){var u=e-t,l=r-n,c=o-i,f=s-a,h=f*u-c*l;if(!(h*h<I))return h=(c*(n-a)-f*(t-i))/h,[t+h*u,n+h*l]}function Ut(t,n,e,r,i,a,o){var s=t-e,u=n-r,l=(o?a:-a)/ft(s*s+u*u),c=l*u,f=-l*s,h=t+c,d=n+f,g=e+c,p=r+f,m=(h+g)/2,w=(d+p)/2,y=g-h,x=p-d,b=y*y+x*x,A=i-a,k=h*p-g*d,E=(x<0?-1:1)*ft($s(0,A*A*b-k*k)),S=(k*x-y*E)/b,N=(-k*y-x*E)/b,R=(k*x+y*E)/b,_=(-k*y+x*E)/b,v=S-m,M=N-w,T=R-m,V=_-w;return v*v+M*M>T*T+V*V&&(S=R,N=_),{cx:S,cy:N,x01:-c,y01:-f,x11:S*(i/A-1),y11:N*(i/A-1)}}function qs(){var t=Ps,n=Ts,e=P(0),r=null,i=Fs,a=Is,o=Os,s=null;function u(){var l,c,f=+t.apply(this,arguments),h=+n.apply(this,arguments),d=i.apply(this,arguments)-cn,g=a.apply(this,arguments)-cn,p=He(g-d),m=g>d;if(s||(s=l=Nr()),h<f&&(c=h,h=f,f=c),!(h>I))s.moveTo(0,0);else if(p>Qt-I)s.moveTo(h*it(d),h*Y(d)),s.arc(0,0,h,d,g,!m),f>I&&(s.moveTo(f*it(g),f*Y(g)),s.arc(0,0,f,g,d,m));else{var w=d,y=g,x=d,b=g,A=p,k=p,E=o.apply(this,arguments)/2,S=E>I&&(r?+r.apply(this,arguments):ft(f*f+h*h)),N=Pn(He(h-f)/2,+e.apply(this,arguments)),R=N,_=N,v,M;if(S>I){var T=Be(S/f*Y(E)),V=Be(S/h*Y(E));(A-=T*2)>I?(T*=m?1:-1,x+=T,b-=T):(A=0,x=b=(d+g)/2),(k-=V*2)>I?(V*=m?1:-1,w+=V,y-=V):(k=0,w=y=(d+g)/2)}var H=h*it(w),B=h*Y(w),J=f*it(b),F=f*Y(b);if(N>I){var Ot=h*it(y),zt=h*Y(y),wn=f*it(x),_n=f*Y(x),Q;if(p<Lt&&(Q=zs(H,B,wn,_n,Ot,zt,J,F))){var bn=H-Q[0],Mn=B-Q[1],An=Ot-Q[0],kn=zt-Q[1],de=1/Y(Ls((bn*An+Mn*kn)/(ft(bn*bn+Mn*Mn)*ft(An*An+kn*kn)))/2),pe=ft(Q[0]*Q[0]+Q[1]*Q[1]);R=Pn(N,(f-pe)/(de-1)),_=Pn(N,(h-pe)/(de+1))}}k>I?_>I?(v=Ut(wn,_n,H,B,h,_,m),M=Ut(Ot,zt,J,F,h,_,m),s.moveTo(v.cx+v.x01,v.cy+v.y01),_<N?s.arc(v.cx,v.cy,_,$(v.y01,v.x01),$(M.y01,M.x01),!m):(s.arc(v.cx,v.cy,_,$(v.y01,v.x01),$(v.y11,v.x11),!m),s.arc(0,0,h,$(v.cy+v.y11,v.cx+v.x11),$(M.cy+M.y11,M.cx+M.x11),!m),s.arc(M.cx,M.cy,_,$(M.y11,M.x11),$(M.y01,M.x01),!m))):(s.moveTo(H,B),s.arc(0,0,h,w,y,!m)):s.moveTo(H,B),!(f>I)||!(A>I)?s.lineTo(J,F):R>I?(v=Ut(J,F,Ot,zt,f,-R,m),M=Ut(H,B,wn,_n,f,-R,m),s.lineTo(v.cx+v.x01,v.cy+v.y01),R<N?s.arc(v.cx,v.cy,R,$(v.y01,v.x01),$(M.y01,M.x01),!m):(s.arc(v.cx,v.cy,R,$(v.y01,v.x01),$(v.y11,v.x11),!m),s.arc(0,0,f,$(v.cy+v.y11,v.cx+v.x11),$(M.cy+M.y11,M.cx+M.x11),m),s.arc(M.cx,M.cy,R,$(M.y11,M.x11),$(M.y01,M.x01),!m))):s.arc(0,0,f,b,x,m)}if(s.closePath(),l)return s=null,l+""||null}return u.centroid=function(){var l=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,c=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-Lt/2;return[it(c)*l,Y(c)*l]},u.innerRadius=function(l){return arguments.length?(t=typeof l=="function"?l:P(+l),u):t},u.outerRadius=function(l){return arguments.length?(n=typeof l=="function"?l:P(+l),u):n},u.cornerRadius=function(l){return arguments.length?(e=typeof l=="function"?l:P(+l),u):e},u.padRadius=function(l){return arguments.length?(r=l==null?null:typeof l=="function"?l:P(+l),u):r},u.startAngle=function(l){return arguments.length?(i=typeof l=="function"?l:P(+l),u):i},u.endAngle=function(l){return arguments.length?(a=typeof l=="function"?l:P(+l),u):a},u.padAngle=function(l){return arguments.length?(o=typeof l=="function"?l:P(+l),u):o},u.context=function(l){return arguments.length?(s=l??null,u):s},u}function Ds(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function Hs(t){return t}function Bs(){var t=Hs,n=Ds,e=null,r=P(0),i=P(Qt),a=P(0);function o(s){var u,l=s.length,c,f,h=0,d=new Array(l),g=new Array(l),p=+r.apply(this,arguments),m=Math.min(Qt,Math.max(-Qt,i.apply(this,arguments)-p)),w,y=Math.min(Math.abs(m)/l,a.apply(this,arguments)),x=y*(m<0?-1:1),b;for(u=0;u<l;++u)(b=g[d[u]=u]=+t(s[u],u,s))>0&&(h+=b);for(n!=null?d.sort(function(A,k){return n(g[A],g[k])}):e!=null&&d.sort(function(A,k){return e(s[A],s[k])}),u=0,f=h?(m-l*x)/h:0;u<l;++u,p=w)c=d[u],b=g[c],w=p+(b>0?b*f:0)+x,g[c]={data:s[c],index:u,value:b,startAngle:p,endAngle:w,padAngle:y};return g}return o.value=function(s){return arguments.length?(t=typeof s=="function"?s:P(+s),o):t},o.sortValues=function(s){return arguments.length?(n=s,e=null,o):n},o.sort=function(s){return arguments.length?(e=s,n=null,o):e},o.startAngle=function(s){return arguments.length?(r=typeof s=="function"?s:P(+s),o):r},o.endAngle=function(s){return arguments.length?(i=typeof s=="function"?s:P(+s),o):i},o.padAngle=function(s){return arguments.length?(a=typeof s=="function"?s:P(+s),o):a},o}function hn(){this._=null}function vn(t){t.U=t.C=t.L=t.R=t.P=t.N=null}hn.prototype={constructor:hn,insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=Ue(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)r=e.U,e===r.L?(i=r.R,i&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(_t(this,e),t=e,e=t.U),e.C=!1,r.C=!0,bt(this,r))):(i=r.L,i&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(bt(this,e),t=e,e=t.U),e.C=!1,r.C=!0,_t(this,r))),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n=t.U,e,r=t.L,i=t.R,a,o;if(r?i?a=Ue(i):a=r:a=i,n?n.L===t?n.L=a:n.R=a:this._=a,r&&i?(o=a.C,a.C=t.C,a.L=r,r.U=a,a!==i?(n=a.U,a.U=t.U,t=a.R,n.L=t,a.R=i,i.U=a):(a.U=n,n=a,t=a.R)):(o=t.C,t=a),t&&(t.U=n),!o){if(t&&t.C){t.C=!1;return}do{if(t===this._)break;if(t===n.L){if(e=n.R,e.C&&(e.C=!1,n.C=!0,_t(this,n),e=n.R),e.L&&e.L.C||e.R&&e.R.C){(!e.R||!e.R.C)&&(e.L.C=!1,e.C=!0,bt(this,e),e=n.R),e.C=n.C,n.C=e.R.C=!1,_t(this,n),t=this._;break}}else if(e=n.L,e.C&&(e.C=!1,n.C=!0,bt(this,n),e=n.L),e.L&&e.L.C||e.R&&e.R.C){(!e.L||!e.L.C)&&(e.R.C=!1,e.C=!0,_t(this,e),e=n.L),e.C=n.C,n.C=e.L.C=!1,bt(this,n),t=this._;break}e.C=!0,t=n,n=n.U}while(!t.C);t&&(t.C=!1)}}};function _t(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function bt(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function Ue(t){for(;t.L;)t=t.L;return t}function Ct(t,n,e,r){var i=[null,null],a=L.push(i)-1;return i.left=t,i.right=n,e&&dn(i,t,n,e),r&&dn(i,n,t,r),O[t.index].halfedges.push(a),O[n.index].halfedges.push(a),i}function Mt(t,n,e){var r=[n,e];return r.left=t,r}function dn(t,n,e,r){!t[0]&&!t[1]?(t[0]=r,t.left=n,t.right=e):t.left===e?t[1]=r:t[0]=r}function Us(t,n,e,r,i){var a=t[0],o=t[1],s=a[0],u=a[1],l=o[0],c=o[1],f=0,h=1,d=l-s,g=c-u,p;if(p=n-s,!(!d&&p>0)){if(p/=d,d<0){if(p<f)return;p<h&&(h=p)}else if(d>0){if(p>h)return;p>f&&(f=p)}if(p=r-s,!(!d&&p<0)){if(p/=d,d<0){if(p>h)return;p>f&&(f=p)}else if(d>0){if(p<f)return;p<h&&(h=p)}if(p=e-u,!(!g&&p>0)){if(p/=g,g<0){if(p<f)return;p<h&&(h=p)}else if(g>0){if(p>h)return;p>f&&(f=p)}if(p=i-u,!(!g&&p<0)){if(p/=g,g<0){if(p>h)return;p>f&&(f=p)}else if(g>0){if(p<f)return;p<h&&(h=p)}return!(f>0)&&!(h<1)||(f>0&&(t[0]=[s+f*d,u+f*g]),h<1&&(t[1]=[s+h*d,u+h*g])),!0}}}}}function Xs(t,n,e,r,i){var a=t[1];if(a)return!0;var o=t[0],s=t.left,u=t.right,l=s[0],c=s[1],f=u[0],h=u[1],d=(l+f)/2,g=(c+h)/2,p,m;if(h===c){if(d<n||d>=r)return;if(l>f){if(!o)o=[d,e];else if(o[1]>=i)return;a=[d,i]}else{if(!o)o=[d,i];else if(o[1]<e)return;a=[d,e]}}else if(p=(l-f)/(h-c),m=g-p*d,p<-1||p>1)if(l>f){if(!o)o=[(e-m)/p,e];else if(o[1]>=i)return;a=[(i-m)/p,i]}else{if(!o)o=[(i-m)/p,i];else if(o[1]<e)return;a=[(e-m)/p,e]}else if(c<h){if(!o)o=[n,p*n+m];else if(o[0]>=r)return;a=[r,p*r+m]}else{if(!o)o=[r,p*r+m];else if(o[0]<n)return;a=[n,p*n+m]}return t[0]=o,t[1]=a,!0}function Vs(t,n,e,r){for(var i=L.length,a;i--;)(!Xs(a=L[i],t,n,e,r)||!Us(a,t,n,e,r)||!(Math.abs(a[0][0]-a[1][0])>C||Math.abs(a[0][1]-a[1][1])>C))&&delete L[i]}function Gs(t){return O[t.index]={site:t,halfedges:[]}}function Ys(t,n){var e=t.site,r=n.left,i=n.right;return e===i&&(i=r,r=e),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(e===r?(r=n[1],i=n[0]):(r=n[0],i=n[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function $r(t,n){return n[+(n.left!==t.site)]}function Ks(t,n){return n[+(n.left===t.site)]}function Zs(){for(var t=0,n=O.length,e,r,i,a;t<n;++t)if((e=O[t])&&(a=(r=e.halfedges).length)){var o=new Array(a),s=new Array(a);for(i=0;i<a;++i)o[i]=i,s[i]=Ys(e,L[r[i]]);for(o.sort(function(u,l){return s[l]-s[u]}),i=0;i<a;++i)s[i]=r[o[i]];for(i=0;i<a;++i)r[i]=s[i]}}function Js(t,n,e,r){var i=O.length,a,o,s,u,l,c,f,h,d,g,p,m,w=!0;for(a=0;a<i;++a)if(o=O[a]){for(s=o.site,l=o.halfedges,u=l.length;u--;)L[l[u]]||l.splice(u,1);for(u=0,c=l.length;u<c;)g=Ks(o,L[l[u]]),p=g[0],m=g[1],f=$r(o,L[l[++u%c]]),h=f[0],d=f[1],(Math.abs(p-h)>C||Math.abs(m-d)>C)&&(l.splice(u,0,L.push(Mt(s,g,Math.abs(p-t)<C&&r-m>C?[t,Math.abs(h-t)<C?d:r]:Math.abs(m-r)<C&&e-p>C?[Math.abs(d-r)<C?h:e,r]:Math.abs(p-e)<C&&m-n>C?[e,Math.abs(h-e)<C?d:n]:Math.abs(m-n)<C&&p-t>C?[Math.abs(d-n)<C?h:t,n]:null))-1),++c);c&&(w=!1)}if(w){var y,x,b,A=1/0;for(a=0,w=null;a<i;++a)(o=O[a])&&(s=o.site,y=s[0]-t,x=s[1]-n,b=y*y+x*x,b<A&&(A=b,w=o));if(w){var k=[t,n],E=[t,r],S=[e,r],N=[e,n];w.halfedges.push(L.push(Mt(s=w.site,k,E))-1,L.push(Mt(s,E,S))-1,L.push(Mt(s,S,N))-1,L.push(Mt(s,N,k))-1)}}for(a=0;a<i;++a)(o=O[a])&&(o.halfedges.length||delete O[a])}var Lr=[],he;function Qs(){vn(this),this.x=this.y=this.arc=this.site=this.cy=null}function ct(t){var n=t.P,e=t.N;if(!(!n||!e)){var r=n.site,i=t.site,a=e.site;if(r!==a){var o=i[0],s=i[1],u=r[0]-o,l=r[1]-s,c=a[0]-o,f=a[1]-s,h=2*(u*f-l*c);if(!(h>=-1e-12)){var d=u*u+l*l,g=c*c+f*f,p=(f*d-l*g)/h,m=(u*g-c*d)/h,w=Lr.pop()||new Qs;w.arc=t,w.site=i,w.x=p+o,w.y=(w.cy=m+s)+Math.sqrt(p*p+m*m),t.circle=w;for(var y=null,x=Pt._;x;)if(w.y<x.y||w.y===x.y&&w.x<=x.x)if(x.L)x=x.L;else{y=x.P;break}else if(x.R)x=x.R;else{y=x;break}Pt.insert(y,w),y||(he=w)}}}}function dt(t){var n=t.circle;n&&(n.P||(he=n.N),Pt.remove(n),Lr.push(n),vn(n),t.circle=null)}var Pr=[];function Ws(){vn(this),this.edge=this.site=this.circle=null}function Xe(t){var n=Pr.pop()||new Ws;return n.site=t,n}function Tn(t){dt(t),pt.remove(t),Pr.push(t),vn(t)}function js(t){var n=t.circle,e=n.x,r=n.cy,i=[e,r],a=t.P,o=t.N,s=[t];Tn(t);for(var u=a;u.circle&&Math.abs(e-u.circle.x)<C&&Math.abs(r-u.circle.cy)<C;)a=u.P,s.unshift(u),Tn(u),u=a;s.unshift(u),dt(u);for(var l=o;l.circle&&Math.abs(e-l.circle.x)<C&&Math.abs(r-l.circle.cy)<C;)o=l.N,s.push(l),Tn(l),l=o;s.push(l),dt(l);var c=s.length,f;for(f=1;f<c;++f)l=s[f],u=s[f-1],dn(l.edge,u.site,l.site,i);u=s[0],l=s[c-1],l.edge=Ct(u.site,l.site,null,i),ct(u),ct(l)}function tu(t){for(var n=t[0],e=t[1],r,i,a,o,s=pt._;s;)if(a=Tr(s,e)-n,a>C)s=s.L;else if(o=n-nu(s,e),o>C){if(!s.R){r=s;break}s=s.R}else{a>-1e-6?(r=s.P,i=s):o>-1e-6?(r=s,i=s.N):r=i=s;break}Gs(t);var u=Xe(t);if(pt.insert(r,u),!(!r&&!i)){if(r===i){dt(r),i=Xe(r.site),pt.insert(u,i),u.edge=i.edge=Ct(r.site,u.site),ct(r),ct(i);return}if(!i){u.edge=Ct(r.site,u.site);return}dt(r),dt(i);var l=r.site,c=l[0],f=l[1],h=t[0]-c,d=t[1]-f,g=i.site,p=g[0]-c,m=g[1]-f,w=2*(h*m-d*p),y=h*h+d*d,x=p*p+m*m,b=[(m*y-d*x)/w+c,(h*x-p*y)/w+f];dn(i.edge,l,g,b),u.edge=Ct(l,t,null,b),i.edge=Ct(t,g,null,b),ct(r),ct(i)}}function Tr(t,n){var e=t.site,r=e[0],i=e[1],a=i-n;if(!a)return r;var o=t.P;if(!o)return-1/0;e=o.site;var s=e[0],u=e[1],l=u-n;if(!l)return s;var c=s-r,f=1/a-1/l,h=c/l;return f?(-h+Math.sqrt(h*h-2*f*(c*c/(-2*l)-u+l/2+i-a/2)))/f+r:(r+s)/2}function nu(t,n){var e=t.N;if(e)return Tr(e,n);var r=t.site;return r[1]===n?r[0]:1/0}var C=1e-6,pt,O,Pt,L;function eu(t,n,e){return(t[0]-e[0])*(n[1]-t[1])-(t[0]-n[0])*(e[1]-t[1])}function ru(t,n){return n[1]-t[1]||n[0]-t[0]}function Ve(t,n){var e=t.sort(ru).pop(),r,i,a;for(L=[],O=new Array(t.length),pt=new hn,Pt=new hn;;)if(a=he,e&&(!a||e[1]<a.y||e[1]===a.y&&e[0]<a.x))(e[0]!==r||e[1]!==i)&&(tu(e),r=e[0],i=e[1]),e=t.pop();else if(a)js(a.arc);else break;if(Zs(),n){var o=+n[0][0],s=+n[0][1],u=+n[1][0],l=+n[1][1];Vs(o,s,u,l),Js(o,s,u,l)}this.edges=L,this.cells=O,pt=Pt=L=O=null}Ve.prototype={constructor:Ve,polygons:function(){var t=this.edges;return this.cells.map(function(n){var e=n.halfedges.map(function(r){return $r(n,t[r])});return e.data=n.site.data,e})},triangles:function(){var t=[],n=this.edges;return this.cells.forEach(function(e,r){if(s=(a=e.halfedges).length)for(var i=e.site,a,o=-1,s,u,l=n[a[s-1]],c=l.left===i?l.right:l.left;++o<s;)u=c,l=n[a[o]],c=l.left===i?l.right:l.left,u&&c&&r<u.index&&r<c.index&&eu(i,u,c)<0&&t.push([i.data,u.data,c.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,n,e){for(var r=this,i,a=r._found||0,o=r.cells.length,s;!(s=r.cells[a]);)if(++a>=o)return null;var u=t-s.site[0],l=n-s.site[1],c=u*u+l*l;do s=r.cells[i=a],a=null,s.halfedges.forEach(function(f){var h=r.edges[f],d=h.left;if(!((d===s.site||!d)&&!(d=h.right))){var g=t-d[0],p=n-d[1],m=g*g+p*p;m<c&&(c=m,a=d.index)}});while(a!==null);return r._found=i,e==null||c<=e*e?s.site:null}};function Rt(t,n,e){this.k=t,this.x=n,this.y=e}Rt.prototype={constructor:Rt,scale:function(t){return t===1?this:new Rt(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new Rt(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Rt.prototype;const Xt=600,Vt=400,W={top:30,right:130,bottom:60,left:60};async function Fr(t="All"){const n=await xn("./data/Sleep_health_and_lifestyle_dataset.json"),e=t==="All"?n:n.filter(u=>u.Gender===t),r=et("#scatterplot .chart-area").html("").append("svg").attr("width",Xt).attr("height",Vt),i=It().domain(["Male","Female"]).range(["#1f77b4","#ff7f0e"]),a=fn().domain(In(e,u=>+u.Age)).nice().range([W.left,Xt-W.right]),o=fn().domain(In(e,u=>+u["Stress Level"])).nice().range([Vt-W.bottom,W.top]);r.selectAll("circle").data(e).enter().append("circle").attr("cx",u=>a(+u.Age)).attr("cy",u=>o(+u["Stress Level"])).attr("r",7).attr("fill",u=>i(u.Gender)).attr("opacity",.8),r.append("g").attr("transform",`translate(0,${Vt-W.bottom})`).call(Qe(a)),r.append("g").attr("transform",`translate(${W.left},0)`).call(We(o)),r.append("text").attr("x",(Xt-W.right)/2).attr("y",Vt-20).attr("text-anchor","middle").style("font-weight","bold").text("Age"),r.append("text").attr("transform","rotate(-90)").attr("x",-200).attr("y",15).attr("text-anchor","middle").style("font-weight","bold").text("Stress Level");const s=r.append("g").attr("transform",`translate(${Xt-W.right+20},${W.top})`);["Male","Female"].forEach((u,l)=>{const c=s.append("g").attr("transform",`translate(0,${l*20})`);c.append("rect").attr("width",15).attr("height",15).attr("fill",i(u)),c.append("text").attr("x",20).attr("y",12).text(u)})}async function iu(){const t=et("#scatterplot").insert("div",":first-child").attr("class","filter-container").style("margin-bottom","10px");t.append("label").text("Filter by Gender: ");const n=t.append("select");n.selectAll("option").data(["All","Male","Female"]).enter().append("option").text(e=>e),n.on("change",function(){Fr(this.value)})}iu();Fr();const Gt=600,Fn=400,nt={top:30,right:30,bottom:60,left:60};async function Ir(t="All Occupations"){const n=await xn("./data/Sleep_health_and_lifestyle_dataset.json"),e=t==="All Occupations"?n:n.filter(d=>d.Occupation===t),r=["Male","Female"],i=It().domain(r).range(["#1f77b4","#ff7f0e"]),a=Gr().domain([5.8,8.6]).thresholds(ee(6,8.6,.2)).value(d=>+d["Sleep Duration"]),o=r.map(d=>({gender:d,bins:a(e.filter(g=>g.Gender===d))})),s=jn().domain(o[0].bins.map(d=>d.x0.toFixed(1))).range([nt.left,Gt-nt.right]).paddingInner(.1),u=jn().domain(r).range([0,s.bandwidth()]).padding(.05),l=fn().domain([0,Yr(o.flatMap(d=>d.bins),d=>d.length)]).nice().range([Fn-nt.bottom,nt.top]),c=et("#histogram .chart-area").html("").append("svg").attr("width",Gt).attr("height",Fn);c.selectAll("g.layer").data(o[0].bins).enter().append("g").attr("transform",d=>`translate(${s(d.x0.toFixed(1))},0)`).selectAll("rect").data((d,g)=>o.map(p=>({gender:p.gender,bin:p.bins[g]}))).enter().append("rect").attr("x",d=>u(d.gender)).attr("y",d=>l(d.bin.length)).attr("width",u.bandwidth()).attr("height",d=>l(0)-l(d.bin.length)).attr("fill",d=>i(d.gender)),c.append("g").attr("transform",`translate(0,${Fn-nt.bottom})`).call(Qe(s)).append("text").attr("x",Gt/2).attr("y",40).attr("fill","black").attr("text-anchor","middle").style("font-weight","bold").text("Sleep Duration (hours)"),c.append("g").attr("transform",`translate(${nt.left},0)`).call(We(l)).append("text").attr("transform","rotate(-90)").attr("x",-400/2).attr("y",-45).attr("fill","black").attr("text-anchor","middle").style("font-weight","bold").text("Number of People");const h=c.append("g").attr("transform",`translate(${Gt-nt.right-100},${nt.top})`);r.forEach((d,g)=>{const p=h.append("g").attr("transform",`translate(0,${g*20})`);p.append("rect").attr("width",12).attr("height",12).attr("fill",i(d)),p.append("text").attr("x",18).attr("y",10).attr("text-anchor","start").text(d)})}async function au(){const t=await xn("./data/Sleep_health_and_lifestyle_dataset.json"),n=["All Occupations",...new Set(t.map(i=>i.Occupation))],e=et("#histogram").insert("div",":first-child").attr("class","filter-container").style("margin-bottom","10px");e.append("label").text("Filter by Occupation: ");const r=e.append("select");r.selectAll("option").data(n).enter().append("option").text(i=>i),r.on("change",function(){Ir(this.value)})}au();Ir();const ne=900,Wt=400,Ge=Math.min(ne,Wt)/2-30;async function Or(t="Platform",n=!1){const e=await xn("./data/SpentSocialMedia.json"),r={};e.forEach(c=>{r[c[t]]=(r[c[t]]||0)+1});const i=Bs().value(c=>c.value)(Object.entries(r).map(([c,f])=>({key:c,value:f}))),a=It(Es),o=et("#piechart .chart-area").html("").append("svg").attr("width",ne).attr("height",Wt).style("max-width","100%"),s=o.append("g").attr("transform",`translate(${ne/2-100}, ${Wt/2})`),u=qs().innerRadius(n?Ge*.6:0).outerRadius(Ge);s.selectAll("path").data(i).enter().append("path").attr("d",u).attr("fill",c=>a(c.data.key)).attr("stroke","white").style("stroke-width","2px"),s.selectAll("text").data(i).enter().append("text").attr("transform",c=>`translate(${u.centroid(c)})`).attr("text-anchor","middle").style("fill","white").style("font-size","12px").text(c=>`${c.data.key} (${(c.data.value/Kr(i,f=>f.data.value)*100).toFixed(1)}%)`);const l=o.append("g").attr("transform",`translate(30, ${Wt-(Object.keys(r).length*25+20)})`);Object.entries(r).forEach(([c,f],h)=>{const d=l.append("g").attr("transform",`translate(0, ${h*25})`);d.append("rect").attr("width",15).attr("height",15).attr("fill",a(c)),d.append("text").attr("x",20).attr("y",12).style("font-size","14px").text(`${c}: ${f}`)})}function ou(){const t=et("#piechart").insert("div",":first-child").style("margin-bottom","15px");t.append("label").text("Choose a field: ");const n=["Platform","Content_Type","Region"],e=t.append("select");e.selectAll("option").data(n).enter().append("option").text(i=>i),t.append("label").style("margin-left","20px").html('<input type="checkbox" id="donutToggle"> Donut Mode');const r=()=>{const i=e.property("value"),a=et("#donutToggle").property("checked");Or(i,a)};e.on("change",r),et("#donutToggle").on("change",r)}ou();Or();async function su(){const n=(await G.json("./data/BlackFriday.json")).filter(y=>y.Age&&y.Gender&&y.Purchase),e={};n.forEach(y=>{const x=y.Age,b=y.Gender,A=+y.Purchase;e[x]||(e[x]={M:0,F:0}),e[x][b]+=A});const r=Object.entries(e).map(([y,x])=>({Age:y,Male:x.M||0,Female:x.F||0})),i=["Male","Female"],a=680,o=600,s={top:60,right:90,bottom:60,left:80},u=a-s.left-s.right,l=o-s.top-s.bottom,c=G.select("#stackedbar .chart-area").append("svg").attr("width",a).attr("height",o).style("font-family","Segoe UI, sans-serif"),f=c.append("g").attr("transform",`translate(${s.left},${s.top})`),h=G.scaleBand().domain(r.map(y=>y.Age)).range([0,u]).padding(.3),d=G.scaleLinear().domain([0,G.max(r,y=>y.Male+y.Female)]).nice().range([l,0]),g=G.scaleOrdinal().domain(i).range(["#3498db","#e67e22"]),m=G.stack().keys(i)(r);f.selectAll("g.layer").data(m).enter().append("g").classed("layer",!0).attr("fill",y=>g(y.key)).selectAll("rect").data(y=>y).enter().append("rect").attr("x",y=>h(y.data.Age)).attr("y",y=>d(y[1])).attr("height",y=>d(y[0])-d(y[1])).attr("width",h.bandwidth()).attr("rx",4).attr("ry",4),f.append("g").call(G.axisLeft(d).ticks(6).tickFormat(G.format(",.0f"))).selectAll("text").style("font-size","12px"),f.append("g").attr("transform",`translate(0,${l})`).call(G.axisBottom(h)).selectAll("text").style("font-size","12px"),f.append("text").attr("x",u/2).attr("y",l+40).attr("text-anchor","middle").style("font-size","14px").style("font-weight","bold").text("Age Group"),f.append("text").attr("transform","rotate(-90)").attr("y",-60).attr("x",-480/2).attr("text-anchor","middle").style("font-size","14px").style("font-weight","bold").text("Total Purchase ($)"),f.append("text").attr("x",u/2).attr("y",-25).attr("text-anchor","middle").style("font-size","18px").style("font-weight","bold").style("fill","#2c3e50").text("Total Purchase by Age & Gender");const w=c.append("g").attr("transform",`translate(${u+s.left+20}, ${s.top})`);i.forEach((y,x)=>{const b=w.append("g").attr("transform",`translate(0, ${x*25})`);b.append("rect").attr("width",16).attr("height",16).attr("fill",g(y)).attr("rx",3).attr("ry",3),b.append("text").attr("x",22).attr("y",12).attr("text-anchor","start").style("font-size","13px").text(y)})}su();
